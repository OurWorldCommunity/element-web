{"version":3,"sources":["webpack:///./node_modules/matrix-react-sdk/src/components/views/rooms/wysiwyg_composer/hooks/useSuggestion.ts","webpack:///./node_modules/matrix-react-sdk/src/components/views/rooms/wysiwyg_composer/hooks/usePlainTextListeners.ts","webpack:///./node_modules/matrix-react-sdk/src/components/views/rooms/wysiwyg_composer/components/PlainTextComposer.tsx","webpack:///./node_modules/matrix-react-sdk/src/components/views/rooms/wysiwyg_composer/hooks/useComposerFunctions.ts","webpack:///./node_modules/matrix-react-sdk/src/components/views/rooms/wysiwyg_composer/hooks/usePlainTextInitialization.ts","webpack:///./node_modules/matrix-react-sdk/src/components/views/rooms/wysiwyg_composer/components/Emoji.tsx","webpack:///./node_modules/matrix-react-sdk/src/components/views/rooms/wysiwyg_composer/SendWysiwygComposer.tsx","webpack:///./node_modules/matrix-react-sdk/src/components/views/rooms/wysiwyg_composer/hooks/useWysiwygSendActionHandler.ts"],"names":["useSuggestion","editorRef","setText","_suggestionData$mappe","suggestionData","setSuggestionData","useState","suggestion","mappedSuggestion","handleCommand","replacementText","_document$getSelectio2","node","newContent","textContent","document","getSelection","setBaseAndExtent","length","processCommand","handleMention","href","displayName","attributes","_node$textContent","_node$textContent$sli","_node$textContent2","_document$getSelectio","linkElement","createElement","linkTextNode","createTextNode","setAttribute","Object","entries","forEach","_ref","attr","value","isNotUndefined","appendChild","leadingTextNode","slice","startOffset","trailingTextNode","endOffset","parentNode","isNotNull","insertBefore","removeChild","processMention","onSelect","_selection$anchorNode","selection","current","isCollapsed","anchorNode","nodeName","currentNode","anchorOffset","currentOffset","firstTextNode","createNodeIterator","NodeFilter","SHOW_TEXT","nextNode","isFirstTextNode","foundSuggestion","text","offset","startSliceIndex","endSliceIndex","shouldDecrementStartIndex","shouldIncrementEndIndex","wordAtCursor","firstChar","charAt","restOfString","keyChar","type","getMappedSuggestion","findSuggestionInText","processSelectionChange","index","test","usePlainTextListeners","initialContent","onChange","onSend","eventRelation","roomContext","useRoomContext","mxClient","useMatrixClientContext","ref","useRef","autocompleteRef","content","setContent","send","useCallback","innerHTML","currentRefContent","enterShouldSend","useSettingValue","onInput","event","target","HTMLDivElement","newInnerHTML","replace","onPaste","nativeEvent","imagePasteWasHandled","isEventToHandleAsClipboardEvent","data","ClipboardEvent","clipboardData","dataTransfer","handleClipboardEvent","preventDefault","onKeyDown","handleEventWithAutocomplete","key","Key","ENTER","sendModifierIsPressed","IS_MAC","metaKey","ctrlKey","shiftKey","stopPropagation","onBeforeInput","PlainTextComposer","className","disabled","children","placeholder","leftComponent","rightComponent","composerFunctions","useMemo","clear","insertText","focusOffset","setSelection","firstChild","focusNode","isForward","useComposerFunctions","arguments","undefined","useEffect","innerText","usePlainTextInitialization","useSetCursorPosition","isFocused","onFocus","useIsFocused","computedPlaceholder","React","classNames","onBlur","WysiwygAutocomplete","Editor","Emoji","menuPosition","EmojiButton","addEmoji","emoji","dis","dispatch","action","Action","ComposerInsert","timelineRenderingType","Content","forwardRef","composerElement","composerContext","useComposerContext","timeoutId","handler","payload","_payload$context","context","TimelineRenderingType","Room","FocusAComposer","FocusSendMessageComposer","focusComposer","ClearAndFocusSendMessageComposer","composerType","ComposerType","Send","userId","then","useDispatcher","defaultDispatcher","useWysiwygSendActionHandler","SendWysiwygComposer","_ref2","isRichTextEnabled","e2eStatus","props","_objectWithoutProperties","_excluded","Composer","WysiwygComposer","defaultContextValue","getDefaultContextValue","ComposerContext","Provider","_extends","E2EIcon","status"],"mappings":"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","file":"bundles/c94d364295d7008a924e/43.js","sourceRoot":""}